import{u as Xe,a as g,r as b,j as e,H as Ee,L as G,b as w}from"./app-BRRpLCdg.js";import{u as et,i as tt,a as st,b as at,E as nt}from"./index-9fhQGrf_.js";import"./module.esm-CDoHWUqT.js";function _(s){try{return new Intl.NumberFormat("nl-NL",{style:"currency",currency:"EUR"}).format(s??0)}catch{return`EUR ${Number(s??0).toFixed(2)}`.replace(".",",")}}function T(s){if(!s)return"-";try{return new Intl.DateTimeFormat("nl-NL",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(s))}catch{return String(s)}}function dt(s){if(!s)return"-";try{return new Intl.DateTimeFormat("nl-NL",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(s))}catch{return String(s)}}function de(s){const h=Number(String(s).replace(",","."));return Number.isFinite(h)?h:0}function P(...s){return s.filter(Boolean).join(" ")}function D({active:s,disabled:h,onClick:k,children:A,title:H}){return e.jsx("button",{type:"button",title:H,onClick:k,disabled:h,className:P("rounded-md px-2 py-1 text-xs font-semibold transition",s?"bg-zinc-900 text-white":"text-zinc-700 hover:bg-zinc-100",h&&"cursor-not-allowed opacity-40"),children:A})}function lt({links:s}){return!s||s.length<=1?null:e.jsx("div",{className:"mt-6 flex flex-wrap gap-2",children:s.map((h,k)=>e.jsx(G,{href:h.url||"#",className:P("rounded-md border px-3 py-1.5 text-sm",h.active?"border-indigo-600 bg-indigo-600 text-white":"border-zinc-200 text-zinc-700 hover:bg-zinc-50",!h.url&&"cursor-not-allowed opacity-50"),preserveScroll:!0,dangerouslySetInnerHTML:{__html:h.label}},`${h.label}-${k}`))})}const rt=[{key:"overzicht",label:"Overzicht"},{key:"klantpersonen",label:"Contactpersonen"},{key:"demo_status",label:"Demo & status"},{key:"incasso",label:"Incasso"},{key:"modules",label:"Modules & prijzen"},{key:"gebruikers",label:"Gebruikers"},{key:"timeline",label:"Notities & timeline"},{key:"taken_afspraken",label:"Taken & afspraken"}];function mt({garageCompany:s,tab:h,statusOptions:k,sourceOptions:A,moduleRows:H,moduleTotals:it,persons:le,seats:re,mandates:ie,activities:U,tasks:ce,appointments:oe,reminderChannels:V,hasActiveMandate:xe,statusErrors:K,welcomeEmail:d,emailTemplates:fe,smtpConfigured:me,urls:c}){const N=h||"overzicht",M=Xe(),ge=async()=>{await M({title:"Klant verwijderen",message:`Weet je zeker dat je "${s.bedrijfsnaam}" wilt verwijderen?`,confirmText:"Verwijder",cancelText:"Annuleren",tone:"danger"})&&w.delete(c.delete_company)},a=g({bedrijfsnaam:s.bedrijfsnaam||"",kvk_nummer:s.kvk_nummer||"",btw_nummer:s.btw_nummer||"",adres_straat_nummer:s.adres_straat_nummer||"",postcode:s.postcode||"",plaats:s.plaats||"",land:s.land||"Nederland",website:s.website||"",hoofd_email:s.hoofd_email||"",hoofd_telefoon:s.hoofd_telefoon||"",login_email:s.login_email||"",login_password:s.login_password||"",status:s.status||(k==null?void 0:k[0]),bron:s.bron||(A==null?void 0:A[0]),tags:s.tags||"",demo_aangevraagd_op:s.demo_aangevraagd_op||"",demo_gepland_op:s.demo_gepland_op||"",proefperiode_start:s.proefperiode_start||"",actief_vanaf:s.actief_vanaf||"",opgezegd_op:s.opgezegd_op||"",opzegreden:s.opzegreden||"",verloren_op:s.verloren_op||"",verloren_reden:s.verloren_reden||""}),Ne=t=>{a.setData("status",t),t==="demo_aangevraagd"&&!a.data.demo_aangevraagd_op&&a.setData("demo_aangevraagd_op",new Date().toISOString().slice(0,16)),t==="actief"&&!a.data.actief_vanaf&&a.setData("actief_vanaf",new Date().toISOString().slice(0,16))},ze=async t=>{t.preventDefault(),!(["opgezegd","verloren"].includes(a.data.status)&&!await M({title:"Status wijzigen",message:"Weet je het zeker? Dit wordt gelogd in de timeline.",confirmText:"Doorgaan",cancelText:"Annuleren",tone:"danger"}))&&a.patch(c.update_overview,{preserveScroll:!0})},[_e,J]=b.useState(!1),[Y,Z]=b.useState(null),i=g({voornaam:"",achternaam:"",rol:"",email:"",telefoon:"",is_primary:!1,active:!0}),ke=()=>{Z(null),J(!0),i.setData({voornaam:"",achternaam:"",rol:"",email:"",telefoon:"",is_primary:!1,active:!0}),i.clearErrors()},ye=t=>{Z(t.id),J(!0),i.setData({voornaam:t.voornaam||"",achternaam:t.achternaam||"",rol:t.rol||"",email:t.email||"",telefoon:t.telefoon||"",is_primary:!!t.is_primary,active:!!t.active}),i.clearErrors()},we=()=>{Z(null),J(!1),i.clearErrors()},De=t=>{if(t.preventDefault(),Y){const r=c.update_person.replace("__PERSON__",Y);i.patch(r,{preserveScroll:!0})}else i.post(c.store_person,{preserveScroll:!0})},Se=async t=>{if(!await M({title:"Contactpersoon verwijderen",message:"Weet je zeker dat je deze contactpersoon wilt verwijderen?",confirmText:"Verwijder",cancelText:"Annuleren",tone:"danger"}))return;const f=c.delete_person.replace("__PERSON__",t);w.delete(f,{preserveScroll:!0})},p=g({rows:H||[]}),y=b.useMemo(()=>{let t=0,r=0,f=0;return p.data.rows.forEach(z=>{if(!z.actief)return;const C=de(z.prijs_maand_excl),F=Math.max(1,Number(z.aantal||1));t+=C*F,r+=C*F*(de(z.btw_percentage)/100),f+=1}),{totaleModules:p.data.rows.length,actieveModules:f,totaalExcl:t,btw:r,totaalIncl:t+r}},[p.data.rows]),O=(t,r,f)=>{p.setData("rows",p.data.rows.map((z,C)=>C===t?{...z,[r]:f}:z))},Ce=t=>{const r=p.data.rows[t];O(t,"actief",!r.actief),!r.actief&&Number(r.aantal||0)<1&&O(t,"aantal",1)},Te=()=>{p.patch(c.update_modules,{preserveScroll:!0})},[Ae,q]=b.useState(!1),[Q,X]=b.useState(null),o=g({naam:"",email:"",rol_in_kivii:"",actief:!0,aangemaakt_op:""}),Me=()=>{X(null),q(!0),o.setData({naam:"",email:"",rol_in_kivii:"",actief:!0,aangemaakt_op:""}),o.clearErrors()},Pe=t=>{X(t.id),q(!0),o.setData({naam:t.naam||"",email:t.email||"",rol_in_kivii:t.rol_in_kivii||"",actief:!!t.actief,aangemaakt_op:t.aangemaakt_op||""}),o.clearErrors()},Oe=()=>{X(null),q(!1),o.clearErrors()},Ie=t=>{t.preventDefault(),Q?o.patch(c.update_seat.replace("__SEAT__",Q),{preserveScroll:!0}):o.post(c.store_seat,{preserveScroll:!0})},Le=async t=>{await M({title:"Gebruiker verwijderen",message:"Weet je zeker dat je deze gebruiker wilt verwijderen?",confirmText:"Verwijder",cancelText:"Annuleren",tone:"danger"})&&w.delete(c.delete_seat.replace("__SEAT__",t),{preserveScroll:!0})},m=g({demo_aangevraagd_op:s.demo_aangevraagd_op||"",demo_gepland_op:s.demo_gepland_op||"",demo_duur_dagen:s.demo_duur_dagen||"",proefperiode_start:s.proefperiode_start||"",actief_vanaf:s.actief_vanaf||""}),Fe=b.useMemo(()=>{if(m.data.demo_aangevraagd_op&&m.data.demo_duur_dagen){const t=new Date(m.data.demo_aangevraagd_op);if(!Number.isNaN(t.getTime()))return t.setDate(t.getDate()+Number(m.data.demo_duur_dagen)),t.toISOString().slice(0,16)}return s.demo_eind_op||""},[m.data.demo_aangevraagd_op,m.data.demo_duur_dagen,s.demo_eind_op]),Be=t=>{t.preventDefault(),m.patch(c.save_demo_dates,{preserveScroll:!0})},j=g({demo_verleng_dagen:"",demo_verleng_notitie:""}),Ve=t=>{t.preventDefault(),j.post(c.extend_demo,{preserveScroll:!0,onSuccess:()=>j.reset()})},R=t=>{w.patch(c.set_demo_status,{status:t},{preserveScroll:!0})},[Re,W]=b.useState(!1),[We,E]=b.useState(null),ue=()=>{const t=s.primary_person?`${s.primary_person.voornaam} ${s.primary_person.achternaam}`.trim():"";return{mandate_id:null,bedrijfsnaam:s.bedrijfsnaam||"",voor_en_achternaam:t||s.bedrijfsnaam||"",straatnaam_en_nummer:s.adres_straat_nummer||"",postcode:s.postcode||"",plaats:s.plaats||"",land:s.land||"Nederland",iban:"",bic:"",email:s.hoofd_email||"",telefoonnummer:s.hoofd_telefoon||"",plaats_van_tekenen:s.plaats||"",datum_van_tekenen:new Date().toISOString().slice(0,10),ondertekenaar_naam:"",akkoord_checkbox:!1,akkoord_op:"",status:"pending",ontvangen_op:new Date().toISOString().slice(0,16)}},l=g(ue()),$e=()=>{E(null),W(!0),l.setData(ue()),l.clearErrors()},Ge=t=>{E(t.id),W(!0),l.setData({mandate_id:t.id,bedrijfsnaam:t.bedrijfsnaam||"",voor_en_achternaam:t.voor_en_achternaam||"",straatnaam_en_nummer:t.straatnaam_en_nummer||"",postcode:t.postcode||"",plaats:t.plaats||"",land:t.land||"Nederland",iban:t.iban||"",bic:t.bic||"",email:t.email||"",telefoonnummer:t.telefoonnummer||"",plaats_van_tekenen:t.plaats_van_tekenen||"",datum_van_tekenen:t.datum_van_tekenen||"",ondertekenaar_naam:t.ondertekenaar_naam||"",akkoord_checkbox:!!t.akkoord_checkbox,akkoord_op:t.akkoord_op||"",status:t.status||"pending",ontvangen_op:t.ontvangen_op||""}),l.clearErrors()},be=()=>{E(null),W(!1),l.clearErrors()},He=t=>{t.preventDefault(),l.post(c.save_mandate,{preserveScroll:!0,onSuccess:()=>W(!1)})},ee=(t,r)=>{w.patch(c.set_mandate_status.replace("__MANDATE__",t),{status:r},{preserveScroll:!0})},v=g({titel:"Notitie",inhoud:""}),Ue=t=>{t.preventDefault(),v.post(c.add_note,{preserveScroll:!0,onSuccess:()=>v.reset("inhoud")})},x=g({type:"taak",titel:"",inhoud:"",due_at:"",createReminder:!1,remind_at:"",channel:(V==null?void 0:V[0])||"popup"}),Ke=t=>{t.preventDefault(),x.post(c.add_task,{preserveScroll:!0,onSuccess:()=>x.reset("titel","inhoud","due_at","createReminder","remind_at")})},he=t=>{w.patch(c.mark_task_done.replace("__ACTIVITY__",t),{},{preserveScroll:!0})},u=g({subject:(d==null?void 0:d.subject)||"",body_html:(d==null?void 0:d.body_html)||"",template_id:(d==null?void 0:d.template_id)||null});b.useEffect(()=>{u.setData({subject:(d==null?void 0:d.subject)||"",body_html:(d==null?void 0:d.body_html)||"",template_id:(d==null?void 0:d.template_id)||null})},[d==null?void 0:d.id]),b.useEffect(()=>{d!=null&&d.template_id&&se(d.template_id)},[d==null?void 0:d.template_id]);const $=fe??[],[Je,I]=b.useState(!1),[te,se]=b.useState((d==null?void 0:d.template_id)??null),[ae,L]=b.useState(!1),S=$.find(t=>t.id===te)||null,n=et({extensions:[tt.configure({heading:{levels:[2,3]}}),st.configure({openOnClick:!1,autolink:!0,defaultProtocol:"https"}),at.configure({placeholder:"Typ hier je welkomstmail..."})],content:u.data.body_html||"<p></p>",onUpdate:({editor:t})=>{u.setData("body_html",t.getHTML())}});b.useEffect(()=>{var r;if(!n)return;const t=(r=u.data.body_html)!=null&&r.trim()?u.data.body_html:"<p></p>";n.getHTML()!==t&&n.commands.setContent(t,!1)},[n,u.data.body_html]);const Ye=()=>{w.post(c.refresh_welcome_email,{},{preserveScroll:!0})},Ze=()=>{u.post(c.update_welcome_email,{preserveScroll:!0})},pe=(d==null?void 0:d.status)||"concept",qe={draft:"bg-amber-50 text-amber-700",concept:"bg-amber-50 text-amber-700",sent:"bg-emerald-50 text-emerald-700",failed:"bg-rose-50 text-rose-700"}[pe]||"bg-zinc-100 text-zinc-700",ne=async()=>{if(!d)return;if(!me){await M({title:"SMTP ontbreekt",message:"SMTP instellingen ontbreken. Voeg deze toe via profiel > systeem-instellingen.",confirmText:"Sluiten",showCancel:!1,tone:"primary"});return}await M({title:"Welkomstmail versturen",message:"Weet je zeker dat je de welkomstmail wilt versturen?",confirmText:"Verstuur",cancelText:"Annuleren",tone:"success"})&&u.post(c.update_welcome_email,{preserveScroll:!0,onSuccess:()=>{w.post(c.send_welcome_email,{},{preserveScroll:!0})}})},Qe=(t,{close:r=!0,send:f=!1}={})=>{t&&(u.setData("subject",t.subject),u.setData("body_html",t.body_html),u.setData("template_id",t.id),n&&n.commands.setContent(t.body_html||"<p></p>",!1),se(t.id),r&&I(!1),f&&ne())},je=(t=!1)=>{if(!$.length){t&&ne();return}L(t),I(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ee,{title:s.bedrijfsnaam}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-zinc-900",children:s.bedrijfsnaam}),e.jsx("p",{className:"mt-1 text-sm text-zinc-500",children:"Klantdossier en modules"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{href:c.index,className:"rounded-md border border-zinc-200 px-3 py-2 text-sm font-semibold hover:bg-zinc-50",children:"Terug naar overzicht"}),e.jsx("button",{type:"button",onClick:ge,className:"rounded-md border border-rose-200 px-3 py-2 text-sm font-semibold text-rose-600 hover:bg-rose-50",children:"Verwijder klant"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:rt.map(t=>e.jsx(G,{href:`${c.show}?tab=${t.key}`,className:P("rounded-md border px-3 py-2 text-sm font-semibold",N===t.key?"border-zinc-900 bg-zinc-900 text-white":"border-zinc-200 text-zinc-700 hover:bg-zinc-50"),children:t.label},t.key))}),N==="overzicht"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3",children:[e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-zinc-50 p-4",children:[e.jsx("div",{className:"text-xs font-medium text-zinc-500",children:"Maandelijks terugkerende omzet (excl. btw)"}),e.jsx("div",{className:"mt-1 text-xl font-semibold",children:_(s.active_mrr_excl)}),e.jsx("div",{className:"mt-2 text-xs text-zinc-500",children:"Actieve modules, vandaag."})]}),e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-zinc-50 p-4",children:[e.jsx("div",{className:"text-xs font-medium text-zinc-500",children:"Maandelijks terugkerende omzet (incl. btw)"}),e.jsx("div",{className:"mt-1 text-xl font-semibold",children:_(s.active_mrr_incl)}),e.jsx("div",{className:"mt-2 text-xs text-zinc-500",children:"BTW standaard 21% (instelbaar per module)."})]}),e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-zinc-50 p-4",children:[e.jsx("div",{className:"text-xs font-medium text-zinc-500",children:"SEPA mandaat"}),e.jsx("div",{className:"mt-1 text-xl font-semibold",children:xe?"Actief":"Niet actief"}),e.jsx("div",{className:"mt-2 text-xs text-zinc-500",children:"Zie tab Incasso voor historie."})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(G,{href:`${c.show}?tab=modules`,className:"rounded-md border border-zinc-200 px-3 py-2 text-sm font-semibold hover:bg-zinc-50",children:"Modules & prijzen wijzigen"})}),K&&K.length>0&&e.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:[e.jsx("div",{className:"font-semibold",children:"Let op"}),e.jsx("ul",{className:"mt-2 list-disc pl-5",children:K.map((t,r)=>e.jsx("li",{children:t},r))})]}),e.jsxs("form",{onSubmit:ze,className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Bedrijfsnaam *"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.bedrijfsnaam,onChange:t=>a.setData("bedrijfsnaam",t.target.value)}),a.errors.bedrijfsnaam&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:a.errors.bedrijfsnaam})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Status"}),e.jsx("select",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.status,onChange:t=>Ne(t.target.value),children:k.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Bron"}),e.jsx("select",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.bron,onChange:t=>a.setData("bron",t.target.value),children:A.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Hoofd e-mail *"}),e.jsx("input",{type:"email",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.hoofd_email,onChange:t=>a.setData("hoofd_email",t.target.value)}),a.errors.hoofd_email&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:a.errors.hoofd_email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Hoofd telefoon *"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.hoofd_telefoon,onChange:t=>a.setData("hoofd_telefoon",t.target.value)}),a.errors.hoofd_telefoon&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:a.errors.hoofd_telefoon})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Login e-mail"}),e.jsx("input",{type:"email",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.login_email,onChange:t=>a.setData("login_email",t.target.value)}),a.errors.login_email&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:a.errors.login_email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Login wachtwoord"}),e.jsx("input",{type:"password",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.login_password,onChange:t=>a.setData("login_password",t.target.value)}),a.errors.login_password&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:a.errors.login_password})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Adres"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.adres_straat_nummer,onChange:t=>a.setData("adres_straat_nummer",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Postcode"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.postcode,onChange:t=>a.setData("postcode",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Plaats *"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.plaats,onChange:t=>a.setData("plaats",t.target.value)}),a.errors.plaats&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:a.errors.plaats})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Land"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.land,onChange:t=>a.setData("land",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Website"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.website,onChange:t=>a.setData("website",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Demo aangevraagd op"}),e.jsx("input",{type:"datetime-local",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.demo_aangevraagd_op,onChange:t=>a.setData("demo_aangevraagd_op",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Demo gepland op"}),e.jsx("input",{type:"datetime-local",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.demo_gepland_op,onChange:t=>a.setData("demo_gepland_op",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Proefperiode start"}),e.jsx("input",{type:"datetime-local",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.proefperiode_start,onChange:t=>a.setData("proefperiode_start",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Actief vanaf"}),e.jsx("input",{type:"datetime-local",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.actief_vanaf,onChange:t=>a.setData("actief_vanaf",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Opgezegd op"}),e.jsx("input",{type:"datetime-local",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.opgezegd_op,onChange:t=>a.setData("opgezegd_op",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Verloren op"}),e.jsx("input",{type:"datetime-local",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:a.data.verloren_op,onChange:t=>a.setData("verloren_op",t.target.value)})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Opzegreden"}),e.jsx("textarea",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",rows:2,value:a.data.opzegreden,onChange:t=>a.setData("opzegreden",t.target.value)})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Verloren reden"}),e.jsx("textarea",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",rows:2,value:a.data.verloren_reden,onChange:t=>a.setData("verloren_reden",t.target.value)})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Tags"}),e.jsx("textarea",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",rows:2,value:a.data.tags,onChange:t=>a.setData("tags",t.target.value)})]})]}),e.jsx("div",{className:"flex items-center justify-end gap-2",children:e.jsx("button",{type:"submit",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-700",disabled:a.processing,children:a.processing?"Opslaan...":"Opslaan"})})]}),e.jsxs("div",{className:"rounded-2xl border border-zinc-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Welkomstmail"}),e.jsx("div",{className:"mt-1 text-xs text-zinc-500",children:"Concept op basis van template. Controleer, pas aan en verstuur handmatig."})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 px-3 py-1.5 text-sm font-semibold hover:bg-zinc-50",onClick:Ye,disabled:!d,children:"Concept vernieuwen"}),e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 px-3 py-1.5 text-sm font-semibold hover:bg-zinc-50",onClick:()=>je(!1),disabled:!d||!$.length,children:"Template kiezen"}),e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 px-3 py-1.5 text-sm font-semibold hover:bg-zinc-50",onClick:Ze,disabled:!d,children:"Concept opslaan"}),e.jsx("button",{type:"button",className:"rounded-md bg-emerald-600 px-3 py-1.5 text-sm font-semibold text-white hover:bg-emerald-700 disabled:opacity-60",onClick:()=>je(!0),disabled:!d,children:"Verstuur welkomstmail"})]})]}),!d&&e.jsx("div",{className:"mt-4 rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-xs text-amber-900",children:"Welkomstmail is nog niet beschikbaar. Draai migraties en refresh deze pagina."}),d&&e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 lg:grid-cols-12",children:[e.jsxs("div",{className:"space-y-4 lg:col-span-4",children:[e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-zinc-50 p-4",children:[e.jsx("div",{className:"text-xs font-medium text-zinc-500",children:"Status"}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:P("inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold",qe),children:pe})}),(d==null?void 0:d.sent_at)&&e.jsxs("div",{className:"mt-2 text-xs text-zinc-500",children:["Laatst verstuurd: ",T(d.sent_at)]})]}),e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-white p-4",children:[e.jsx("div",{className:"text-xs font-semibold text-zinc-500",children:"Ontvanger"}),e.jsx("div",{className:"mt-2 text-sm font-semibold",children:(d==null?void 0:d.to_email)||"-"}),e.jsx("div",{className:"mt-4 text-xs font-semibold text-zinc-500",children:"Beschikbare velden"}),e.jsx("div",{className:"mt-2 space-y-1 text-xs text-zinc-600",children:["{{ naam }}","{{ bedrijfsnaam }}","{{ loginnaam }}","{{ wachtwoord }}","{{ weblink }}"].map(t=>e.jsx("div",{className:"rounded-md border border-zinc-200 bg-zinc-50 px-2 py-1 font-mono",children:t},t))})]}),!me&&e.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-xs text-amber-900",children:"SMTP instellingen ontbreken. Voeg deze toe via profiel > systeem-instellingen."})]}),e.jsxs("div",{className:"space-y-4 lg:col-span-8",children:[e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-white p-4",children:[e.jsx("div",{className:"text-xs font-semibold text-zinc-500",children:"Onderwerp"}),e.jsx("input",{className:"mt-2 w-full rounded-md border-zinc-300 text-sm",value:u.data.subject,onChange:t=>u.setData("subject",t.target.value)}),u.errors.subject&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:u.errors.subject})]}),e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-white p-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx("div",{className:"text-xs font-semibold text-zinc-500",children:"Welkomstmail"}),S&&e.jsxs("span",{className:"rounded-full border border-zinc-200 bg-zinc-50 px-2 py-1 text-[11px] font-semibold text-zinc-700",children:["Template: ",S.name]})]}),e.jsxs("div",{className:"mt-2 rounded-lg border border-zinc-200",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-1 border-b border-zinc-100 bg-zinc-50 px-2 py-2",children:[e.jsx(D,{title:"Vet",active:n==null?void 0:n.isActive("bold"),disabled:!n,onClick:()=>n==null?void 0:n.chain().focus().toggleBold().run(),children:"Vet"}),e.jsx(D,{title:"Cursief",active:n==null?void 0:n.isActive("italic"),disabled:!n,onClick:()=>n==null?void 0:n.chain().focus().toggleItalic().run(),children:"Cursief"}),e.jsx(D,{title:"Opsomming",active:n==null?void 0:n.isActive("bulletList"),disabled:!n,onClick:()=>n==null?void 0:n.chain().focus().toggleBulletList().run(),children:"Lijst"}),e.jsx(D,{title:"Genummerde lijst",active:n==null?void 0:n.isActive("orderedList"),disabled:!n,onClick:()=>n==null?void 0:n.chain().focus().toggleOrderedList().run(),children:"Nummering"}),e.jsx(D,{title:"Link",active:n==null?void 0:n.isActive("link"),disabled:!n,onClick:()=>{if(!n)return;const t=n.getAttributes("link").href||"",r=window.prompt("Link URL",t);if(r!==null){if(r===""){n.chain().focus().unsetLink().run();return}n.chain().focus().extendMarkRange("link").setLink({href:r}).run()}},children:"Link"}),e.jsx(D,{title:"Opmaak wissen",disabled:!n,onClick:()=>n==null?void 0:n.chain().focus().clearNodes().unsetAllMarks().run(),children:"Wissen"}),e.jsx(D,{title:"Ongedaan maken",disabled:!n,onClick:()=>n==null?void 0:n.chain().focus().undo().run(),children:"Undo"}),e.jsx(D,{title:"Opnieuw",disabled:!n,onClick:()=>n==null?void 0:n.chain().focus().redo().run(),children:"Redo"})]}),e.jsx(nt,{editor:n,className:"tiptap px-3 py-2 text-sm"})]}),e.jsx("div",{className:"mt-2 text-xs text-zinc-500",children:"Gebruik variabelen zoals {{ naam }}, {{ loginnaam }}, {{ wachtwoord }}, {{ weblink }}."})]})]})]}),Je&&e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-zinc-950/30 px-4 py-8 backdrop-blur-sm",onClick:t=>{t.target===t.currentTarget&&(I(!1),L(!1))},children:e.jsxs("div",{className:"w-full max-w-lg rounded-2xl border border-zinc-200/70 bg-white/95 shadow-2xl",children:[e.jsxs("div",{className:"border-b border-zinc-100 px-5 py-4",children:[e.jsx("div",{className:"text-sm font-semibold text-zinc-900",children:"Kies een e-mail template"}),e.jsx("div",{className:"mt-1 text-xs text-zinc-500",children:"Selecteer een template om het concept te vullen. Je kunt daarna nog aanpassen."})]}),e.jsx("div",{className:"max-h-64 space-y-2 overflow-y-auto px-5 py-4",children:$.map(t=>e.jsxs("button",{type:"button",onClick:()=>se(t.id),className:P("w-full rounded-xl border px-4 py-3 text-left transition",te===t.id?"border-zinc-900 bg-zinc-900 text-white":"border-zinc-200 bg-white text-zinc-700 hover:bg-zinc-50"),children:[e.jsx("div",{className:"text-sm font-semibold",children:t.name}),e.jsx("div",{className:P("mt-1 text-xs",te===t.id?"text-zinc-200":"text-zinc-500"),children:t.subject||"Geen onderwerp"})]},t.id))}),e.jsxs("div",{className:"border-t border-zinc-100 px-5 py-4",children:[S?e.jsxs("div",{className:"rounded-lg border border-zinc-200 bg-zinc-50 px-3 py-2 text-xs text-zinc-700",children:[e.jsx("div",{className:"font-semibold",children:S.subject||"Geen onderwerp"}),e.jsx("div",{className:"mt-1 text-zinc-500",children:S.preview||"Geen voorbeeld"})]}):e.jsx("div",{className:"text-xs text-zinc-500",children:"Kies een template om een voorbeeld te zien."}),e.jsxs("div",{className:"mt-4 flex flex-wrap justify-end gap-2",children:[e.jsx("button",{type:"button",className:"rounded-full border border-zinc-200 px-3 py-1.5 text-[11px] font-semibold text-zinc-700 hover:bg-zinc-50",onClick:()=>{I(!1),L(!1)},children:"Annuleren"}),ae&&e.jsx("button",{type:"button",className:"rounded-full border border-zinc-200 px-3 py-1.5 text-[11px] font-semibold text-zinc-700 hover:bg-zinc-50",onClick:()=>{I(!1),L(!1),ne()},children:"Verstuur huidige"}),e.jsx("button",{type:"button",className:"rounded-full bg-zinc-900 px-3.5 py-1.5 text-[11px] font-semibold text-white hover:bg-zinc-800 disabled:cursor-not-allowed disabled:opacity-50",disabled:!S,onClick:()=>{Qe(S,{close:!0,send:ae}),L(!1)},children:ae?"Gebruik & verstuur":"Gebruik template"})]})]})]})})]})]}),N==="klantpersonen"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Contactpersonen"}),e.jsx("div",{className:"text-xs text-zinc-500",children:"Meerdere contactpersonen per klant."})]}),e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 px-3 py-2 text-sm font-semibold hover:bg-zinc-50",onClick:ke,children:"Nieuwe contactpersoon"})]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-zinc-200 bg-white",children:e.jsxs("table",{className:"min-w-full divide-y divide-zinc-100",children:[e.jsx("thead",{className:"bg-zinc-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Naam"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Rol"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Contact"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Actief"}),e.jsx("th",{className:"px-4 py-3"})]})}),e.jsxs("tbody",{className:"divide-y divide-zinc-100",children:[le.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-10 text-center text-sm text-zinc-600",children:"Nog geen contactpersonen."})}),le.map(t=>e.jsxs("tr",{className:"hover:bg-zinc-50",children:[e.jsxs("td",{className:"px-4 py-3 text-sm",children:[e.jsxs("div",{className:"font-semibold",children:[t.voornaam," ",t.achternaam]}),t.is_primary&&e.jsx("div",{className:"mt-0.5 inline-flex rounded-full bg-indigo-50 px-2 py-0.5 text-xs font-semibold text-indigo-700",children:"Primair"})]}),e.jsx("td",{className:"px-4 py-3 text-sm text-zinc-600",children:t.rol||"-"}),e.jsxs("td",{className:"px-4 py-3 text-sm",children:[e.jsx("div",{children:t.email}),e.jsx("div",{className:"text-xs text-zinc-500",children:t.telefoon||"-"})]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:t.active?"Ja":"Nee"}),e.jsxs("td",{className:"px-4 py-3 text-right text-sm",children:[e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 px-2 py-1 text-xs hover:bg-zinc-50",onClick:()=>ye(t),children:"Bewerken"}),e.jsx("button",{type:"button",className:"ml-2 rounded-md border border-rose-200 px-2 py-1 text-xs text-rose-700 hover:bg-rose-50",onClick:()=>Se(t.id),children:"Verwijderen"})]})]},t.id))]})]})}),_e&&e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-white p-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:Y?"Contactpersoon bewerken":"Contactpersoon toevoegen"}),e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 px-3 py-2 text-sm font-semibold hover:bg-zinc-50",onClick:we,children:"Annuleren"})]}),e.jsxs("form",{onSubmit:De,className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Voornaam *"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:i.data.voornaam,onChange:t=>i.setData("voornaam",t.target.value)}),i.errors.voornaam&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:i.errors.voornaam})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Achternaam *"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:i.data.achternaam,onChange:t=>i.setData("achternaam",t.target.value)}),i.errors.achternaam&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:i.errors.achternaam})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"E-mail *"}),e.jsx("input",{type:"email",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:i.data.email,onChange:t=>i.setData("email",t.target.value)}),i.errors.email&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:i.errors.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Telefoon"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:i.data.telefoon,onChange:t=>i.setData("telefoon",t.target.value)})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Rol"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:i.data.rol,onChange:t=>i.setData("rol",t.target.value),placeholder:"bijv. eigenaar, administratie, monteur"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"rounded border-zinc-300",checked:i.data.is_primary,onChange:t=>i.setData("is_primary",t.target.checked)}),e.jsx("span",{className:"text-sm",children:"Primair"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"rounded border-zinc-300",checked:i.data.active,onChange:t=>i.setData("active",t.target.checked)}),e.jsx("span",{className:"text-sm",children:"Actief"})]}),e.jsx("div",{className:"sm:col-span-2 flex justify-end",children:e.jsx("button",{type:"submit",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-700",disabled:i.processing,children:i.processing?"Opslaan...":"Opslaan"})})]})]})]}),N==="demo_status"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Demo & status"}),e.jsx("div",{className:"mt-1 text-xs text-zinc-500",children:"Beheer statusflow en bijbehorende datums."})]}),e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-zinc-50 p-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-zinc-500",children:"Huidige status"}),e.jsx("div",{className:"mt-1 text-lg font-semibold",children:s.status})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 bg-white px-3 py-2 text-sm font-semibold hover:bg-zinc-50",onClick:()=>R("demo_aangevraagd"),children:"Naar demo aangevraagd"}),e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 bg-white px-3 py-2 text-sm font-semibold hover:bg-zinc-50",onClick:()=>R("demo_gepland"),children:"Naar demo gepland"}),e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 bg-white px-3 py-2 text-sm font-semibold hover:bg-zinc-50",onClick:()=>R("proefperiode"),children:"Naar proefperiode"}),e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 bg-white px-3 py-2 text-sm font-semibold hover:bg-zinc-50",onClick:()=>R("actief"),children:"Actief"})]})]}),!xe&&e.jsx("div",{className:"mt-3 text-xs text-amber-800",children:"Let op: geen actief SEPA mandaat gekoppeld."})]}),e.jsxs("form",{onSubmit:Be,className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Demo aangevraagd op"}),e.jsx("input",{type:"datetime-local",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:m.data.demo_aangevraagd_op,onChange:t=>m.setData("demo_aangevraagd_op",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Demo gepland op"}),e.jsx("input",{type:"datetime-local",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:m.data.demo_gepland_op,onChange:t=>m.setData("demo_gepland_op",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Demo duur (dagen)"}),e.jsx("input",{type:"number",min:"1",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:m.data.demo_duur_dagen,onChange:t=>m.setData("demo_duur_dagen",t.target.value)}),e.jsx("div",{className:"mt-1 text-xs text-zinc-500",children:"Einddatum wordt automatisch berekend."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Demo einddatum"}),e.jsx("input",{type:"datetime-local",className:"mt-1 w-full rounded-md border-zinc-200 bg-zinc-50 text-sm",value:Fe,disabled:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Proefperiode start"}),e.jsx("input",{type:"datetime-local",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:m.data.proefperiode_start,onChange:t=>m.setData("proefperiode_start",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Actief vanaf"}),e.jsx("input",{type:"datetime-local",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:m.data.actief_vanaf,onChange:t=>m.setData("actief_vanaf",t.target.value)})]}),e.jsx("div",{className:"sm:col-span-2 flex justify-end",children:e.jsx("button",{type:"submit",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-700",disabled:m.processing,children:m.processing?"Opslaan...":"Datums opslaan"})})]}),e.jsxs("form",{onSubmit:Ve,className:"rounded-xl border border-zinc-200 bg-white p-4",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Demo verlengen"}),e.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Verleng met (dagen)"}),e.jsx("input",{type:"number",min:"1",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:j.data.demo_verleng_dagen,onChange:t=>j.setData("demo_verleng_dagen",t.target.value)}),j.errors.demo_verleng_dagen&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:j.errors.demo_verleng_dagen})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Notitie (optioneel)"}),e.jsx("input",{type:"text",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:j.data.demo_verleng_notitie,onChange:t=>j.setData("demo_verleng_notitie",t.target.value)})]})]}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx("button",{type:"submit",className:"rounded-md border border-zinc-200 bg-white px-3 py-2 text-sm font-semibold hover:bg-zinc-50",disabled:j.processing,children:j.processing?"Bezig...":"Verleng demo"})})]})]}),N==="incasso"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Incasso (SEPA mandaten)"}),e.jsx("div",{className:"mt-1 text-xs text-zinc-500",children:"0 of 1 actief mandaat per klant, historie blijft behouden."})]}),e.jsx("button",{type:"button",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-700",onClick:$e,children:"Nieuw mandaat"})]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-zinc-200 bg-white",children:e.jsxs("table",{className:"min-w-full divide-y divide-zinc-100",children:[e.jsx("thead",{className:"bg-zinc-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Mandaat"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"IBAN"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Ontvangen"}),e.jsx("th",{className:"px-4 py-3"})]})}),e.jsxs("tbody",{className:"divide-y divide-zinc-100",children:[ie.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-10 text-center text-sm text-zinc-600",children:"Nog geen mandaten."})}),ie.map(t=>e.jsxs("tr",{className:"hover:bg-zinc-50",children:[e.jsxs("td",{className:"px-4 py-3 text-sm",children:[e.jsx("div",{className:"font-semibold",children:t.mandaat_id}),e.jsx("div",{className:"text-xs text-zinc-500",children:t.bedrijfsnaam})]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:t.iban}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:"inline-flex items-center rounded-full bg-zinc-100 px-2 py-0.5 text-xs font-semibold text-zinc-700",children:t.status})}),e.jsx("td",{className:"px-4 py-3 text-sm text-zinc-600",children:t.ontvangen_op?T(t.ontvangen_op):"ï¿½"}),e.jsxs("td",{className:"px-4 py-3 text-right text-sm",children:[e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 px-2 py-1 text-xs hover:bg-zinc-50",onClick:()=>Ge(t),children:"Bewerken"}),e.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 px-2 py-1 text-xs hover:bg-zinc-50",onClick:()=>ee(t.id,"pending"),children:"Pending"}),e.jsx("button",{type:"button",className:"rounded-md border border-emerald-200 px-2 py-1 text-xs text-emerald-700 hover:bg-emerald-50",onClick:()=>ee(t.id,"actief"),children:"Actief"}),e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 px-2 py-1 text-xs hover:bg-zinc-50",onClick:()=>ee(t.id,"ingetrokken"),children:"Ingetrokken"})]})]})]},t.id))]})]})}),Re&&e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-white p-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:We?"Mandaat bewerken":"Nieuw mandaat"}),e.jsx("button",{type:"button",className:"text-sm font-semibold text-zinc-600 hover:text-zinc-900",onClick:be,children:"Sluiten"})]}),e.jsxs("form",{onSubmit:He,className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsx("input",{type:"hidden",value:l.data.mandate_id||""}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Bedrijfsnaam *"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.bedrijfsnaam,onChange:t=>l.setData("bedrijfsnaam",t.target.value)}),l.errors.bedrijfsnaam&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:l.errors.bedrijfsnaam})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Voor- en achternaam *"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.voor_en_achternaam,onChange:t=>l.setData("voor_en_achternaam",t.target.value)})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Straat + nummer *"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.straatnaam_en_nummer,onChange:t=>l.setData("straatnaam_en_nummer",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Postcode *"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.postcode,onChange:t=>l.setData("postcode",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Plaats *"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.plaats,onChange:t=>l.setData("plaats",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Land"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.land,onChange:t=>l.setData("land",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"IBAN *"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.iban,onChange:t=>l.setData("iban",t.target.value)}),l.errors.iban&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:l.errors.iban})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"BIC"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.bic,onChange:t=>l.setData("bic",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"E-mail *"}),e.jsx("input",{type:"email",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.email,onChange:t=>l.setData("email",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Telefoon *"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.telefoonnummer,onChange:t=>l.setData("telefoonnummer",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Plaats van tekenen *"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.plaats_van_tekenen,onChange:t=>l.setData("plaats_van_tekenen",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Datum van tekenen *"}),e.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.datum_van_tekenen,onChange:t=>l.setData("datum_van_tekenen",t.target.value)})]}),e.jsx("div",{className:"sm:col-span-2",children:e.jsx("div",{className:"text-xs font-semibold text-zinc-500",children:"Ondertekening (typed naam)"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Ondertekenaar naam"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.ondertekenaar_naam,onChange:t=>l.setData("ondertekenaar_naam",t.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[e.jsx("input",{type:"checkbox",className:"rounded border-zinc-300",checked:l.data.akkoord_checkbox,onChange:t=>l.setData("akkoord_checkbox",t.target.checked)}),e.jsx("span",{className:"text-sm",children:"Akkoord"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Akkoord op"}),e.jsx("input",{type:"datetime-local",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.akkoord_op,onChange:t=>l.setData("akkoord_op",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Ontvangen op"}),e.jsx("input",{type:"datetime-local",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.ontvangen_op,onChange:t=>l.setData("ontvangen_op",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Status"}),e.jsx("select",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:l.data.status,onChange:t=>l.setData("status",t.target.value),children:["pending","actief","ingetrokken"].map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{className:"sm:col-span-2 flex justify-end gap-2",children:[e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 px-3 py-2 text-sm font-semibold hover:bg-zinc-50",onClick:be,children:"Annuleren"}),e.jsx("button",{type:"submit",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-700",disabled:l.processing,children:l.processing?"Opslaan...":"Opslaan"})]})]})]})]}),N==="modules"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Modules & prijzen"}),e.jsx("div",{className:"mt-1 text-xs text-zinc-500",children:"Aantallen, prijzen en btw per module."})]}),e.jsx("button",{type:"button",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-700",onClick:Te,disabled:p.processing,children:p.processing?"Opslaan...":"Opslaan"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-zinc-50 p-4",children:[e.jsx("div",{className:"text-xs font-medium text-zinc-500",children:"Actieve modules"}),e.jsxs("div",{className:"mt-1 text-xl font-semibold",children:[y.actieveModules," / ",y.totaleModules]})]}),e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-zinc-50 p-4",children:[e.jsx("div",{className:"text-xs font-medium text-zinc-500",children:"Totaal excl. btw"}),e.jsx("div",{className:"mt-1 text-xl font-semibold",children:_(y.totaalExcl)})]}),e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-zinc-50 p-4",children:[e.jsx("div",{className:"text-xs font-medium text-zinc-500",children:"BTW"}),e.jsx("div",{className:"mt-1 text-xl font-semibold",children:_(y.btw)})]}),e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-zinc-50 p-4",children:[e.jsx("div",{className:"text-xs font-medium text-zinc-500",children:"Totaal incl. btw"}),e.jsx("div",{className:"mt-1 text-xl font-semibold",children:_(y.totaalIncl)})]})]}),e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-white p-4 text-sm text-zinc-600",children:["Totaal: ",_(y.totaalExcl)," excl. btw ï¿½ BTW ",_(y.btw)," ï¿½"," ",_(y.totaalIncl)," incl. btw"]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-zinc-200 bg-white",children:e.jsxs("table",{className:"min-w-full divide-y divide-zinc-100",children:[e.jsx("thead",{className:"bg-zinc-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Actief"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Module"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Aantal"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Prijs (excl. btw)"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"BTW %"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Subtotaal"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-100",children:p.data.rows.map((t,r)=>{const f=Math.max(1,Number(t.aantal||1)),z=de(t.prijs_maand_excl)*f,C=p.errors[`rows.${r}.aantal`],F=p.errors[`rows.${r}.prijs_maand_excl`],ve=p.errors[`rows.${r}.btw_percentage`];return e.jsxs("tr",{className:t.actief?"":"bg-zinc-50/60",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",className:"rounded border-zinc-300",checked:!!t.actief,onChange:()=>Ce(r)})}),e.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-zinc-900",children:t.naam}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("input",{type:"number",min:"0",className:"w-24 rounded-md border-zinc-300 text-sm",value:t.aantal,onChange:B=>O(r,"aantal",B.target.value)}),C&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:C})]}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("input",{type:"number",min:"0",step:"0.01",className:"w-28 rounded-md border-zinc-300 text-sm",value:t.prijs_maand_excl,onChange:B=>O(r,"prijs_maand_excl",B.target.value)}),F&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:F})]}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",className:"w-20 rounded-md border-zinc-300 text-sm",value:t.btw_percentage,onChange:B=>O(r,"btw_percentage",B.target.value)}),ve&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:ve})]}),e.jsx("td",{className:"px-4 py-3 text-sm text-zinc-700",children:t.actief?_(z):"ï¿½"})]},t.module_id)})})]})})]}),N==="gebruikers"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Gebruikers"}),e.jsx("div",{className:"mt-1 text-xs text-zinc-500",children:"Accounts binnen deze garage."})]}),e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 px-3 py-2 text-sm font-semibold hover:bg-zinc-50",onClick:Me,children:"Nieuwe gebruiker"})]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-zinc-200 bg-white",children:e.jsxs("table",{className:"min-w-full divide-y divide-zinc-100",children:[e.jsx("thead",{className:"bg-zinc-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Naam"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"E-mail"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Rol"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Actief"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-zinc-600",children:"Aangemaakt"}),e.jsx("th",{className:"px-4 py-3"})]})}),e.jsxs("tbody",{className:"divide-y divide-zinc-100",children:[re.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-10 text-center text-sm text-zinc-600",children:"Nog geen gebruikers."})}),re.map(t=>e.jsxs("tr",{className:"hover:bg-zinc-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-zinc-900",children:t.naam}),e.jsx("td",{className:"px-4 py-3 text-sm text-zinc-600",children:t.email}),e.jsx("td",{className:"px-4 py-3 text-sm text-zinc-600",children:t.rol_in_kivii||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:t.actief?"Ja":"Nee"}),e.jsx("td",{className:"px-4 py-3 text-sm text-zinc-600",children:dt(t.aangemaakt_op)}),e.jsxs("td",{className:"px-4 py-3 text-right text-sm",children:[e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 px-2 py-1 text-xs hover:bg-zinc-50",onClick:()=>Pe(t),children:"Bewerken"}),e.jsx("button",{type:"button",className:"ml-2 rounded-md border border-rose-200 px-2 py-1 text-xs text-rose-700 hover:bg-rose-50",onClick:()=>Le(t.id),children:"Verwijderen"})]})]},t.id))]})]})}),Ae&&e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-white p-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:Q?"Gebruiker bewerken":"Gebruiker toevoegen"}),e.jsx("button",{type:"button",className:"rounded-md border border-zinc-200 px-3 py-2 text-sm font-semibold hover:bg-zinc-50",onClick:Oe,children:"Annuleren"})]}),e.jsxs("form",{onSubmit:Ie,className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Naam *"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:o.data.naam,onChange:t=>o.setData("naam",t.target.value)}),o.errors.naam&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:o.errors.naam})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"E-mail *"}),e.jsx("input",{type:"email",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:o.data.email,onChange:t=>o.setData("email",t.target.value)}),o.errors.email&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:o.errors.email})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Rol"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:o.data.rol_in_kivii,onChange:t=>o.setData("rol_in_kivii",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Aangemaakt op"}),e.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:o.data.aangemaakt_op,onChange:t=>o.setData("aangemaakt_op",t.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[e.jsx("input",{type:"checkbox",className:"rounded border-zinc-300",checked:o.data.actief,onChange:t=>o.setData("actief",t.target.checked)}),e.jsx("span",{className:"text-sm",children:"Actief"})]}),e.jsx("div",{className:"sm:col-span-2 flex justify-end",children:e.jsx("button",{type:"submit",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-700",disabled:o.processing,children:o.processing?"Opslaan...":"Opslaan"})})]})]})]}),N==="timeline"&&e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-white p-5",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Nieuwe notitie"}),e.jsxs("form",{onSubmit:Ue,className:"mt-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Titel"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:v.data.titel,onChange:t=>v.setData("titel",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Notitie"}),e.jsx("textarea",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",rows:4,value:v.data.inhoud,onChange:t=>v.setData("inhoud",t.target.value)}),v.errors.inhoud&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:v.errors.inhoud})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-700",disabled:v.processing,children:v.processing?"Opslaan...":"Notitie toevoegen"})})]})]})}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"space-y-4",children:[U.data.length===0&&e.jsx("div",{className:"rounded-xl border border-dashed border-zinc-200 bg-white p-8 text-center text-sm text-zinc-600",children:"Nog geen activiteiten."}),U.data.map(t=>e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-white p-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:t.titel}),e.jsxs("div",{className:"mt-1 text-xs text-zinc-500",children:[t.type?t.type.replace("_"," "):"Activiteit"," ï¿½"," ",T(t.created_at)]})]}),t.creator&&e.jsx("div",{className:"text-xs font-semibold text-zinc-500",children:t.creator.name})]}),t.inhoud&&e.jsx("div",{className:"mt-3 text-sm text-zinc-700",children:t.inhoud}),(t.due_at||t.done_at)&&e.jsxs("div",{className:"mt-3 text-xs text-zinc-500",children:[t.due_at&&`Gepland: ${T(t.due_at)}`,t.done_at&&` ï¿½ Afgerond: ${T(t.done_at)}`]})]},t.id))]}),e.jsx(lt,{links:U.links})]})]}),N==="taken_afspraken"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-white p-5",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Nieuwe taak / afspraak"}),e.jsxs("form",{onSubmit:Ke,className:"mt-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Type"}),e.jsxs("select",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:x.data.type,onChange:t=>x.setData("type",t.target.value),children:[e.jsx("option",{value:"taak",children:"Taak"}),e.jsx("option",{value:"afspraak",children:"Afspraak"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Titel"}),e.jsx("input",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:x.data.titel,onChange:t=>x.setData("titel",t.target.value)}),x.errors.titel&&e.jsx("div",{className:"mt-1 text-xs text-rose-600",children:x.errors.titel})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Omschrijving"}),e.jsx("textarea",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",rows:3,value:x.data.inhoud,onChange:t=>x.setData("inhoud",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Planning"}),e.jsx("input",{type:"datetime-local",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:x.data.due_at,onChange:t=>x.setData("due_at",t.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"rounded border-zinc-300",checked:x.data.createReminder,onChange:t=>x.setData("createReminder",t.target.checked)}),e.jsx("span",{className:"text-sm",children:"Reminder instellen"})]}),x.data.createReminder&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Reminder tijd"}),e.jsx("input",{type:"datetime-local",className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:x.data.remind_at,onChange:t=>x.setData("remind_at",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-600",children:"Kanaal"}),e.jsx("select",{className:"mt-1 w-full rounded-md border-zinc-300 text-sm",value:x.data.channel,onChange:t=>x.setData("channel",t.target.value),children:V.map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-700",disabled:x.processing,children:x.processing?"Opslaan...":"Opslaan"})})]})]})}),e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Open taken"}),e.jsxs("div",{className:"mt-3 space-y-3",children:[ce.length===0&&e.jsx("div",{className:"rounded-xl border border-dashed border-zinc-200 bg-white p-6 text-center text-sm text-zinc-600",children:"Geen open taken."}),ce.map(t=>e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-white p-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:t.titel}),t.inhoud&&e.jsx("div",{className:"mt-1 text-xs text-zinc-500",children:t.inhoud})]}),e.jsx("button",{type:"button",className:"rounded-md border border-emerald-200 px-2 py-1 text-xs text-emerald-700 hover:bg-emerald-50",onClick:()=>he(t.id),children:"Afgerond"})]}),t.due_at&&e.jsxs("div",{className:"mt-2 text-xs text-zinc-500",children:["Planning: ",T(t.due_at)]})]},t.id))]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Open afspraken"}),e.jsxs("div",{className:"mt-3 space-y-3",children:[oe.length===0&&e.jsx("div",{className:"rounded-xl border border-dashed border-zinc-200 bg-white p-6 text-center text-sm text-zinc-600",children:"Geen open afspraken."}),oe.map(t=>e.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-white p-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:t.titel}),t.inhoud&&e.jsx("div",{className:"mt-1 text-xs text-zinc-500",children:t.inhoud})]}),e.jsx("button",{type:"button",className:"rounded-md border border-emerald-200 px-2 py-1 text-xs text-emerald-700 hover:bg-emerald-50",onClick:()=>he(t.id),children:"Afgerond"})]}),t.due_at&&e.jsxs("div",{className:"mt-2 text-xs text-zinc-500",children:["Planning: ",T(t.due_at)]})]},t.id))]})]})]})]})})]})}export{mt as default};
