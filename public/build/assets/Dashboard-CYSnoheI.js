import{j as e,H as u}from"./app-B9p1hK7x.js";import"./app-Da9Q4cYH.js";function m(s){try{return new Intl.NumberFormat("nl-NL",{style:"currency",currency:"EUR"}).format(s??0)}catch{return`EUR ${Number(s??0).toFixed(2)}`.replace(".",",")}}function i(s){try{return new Intl.NumberFormat("nl-NL").format(s??0)}catch{return String(s??0)}}function x(s){if(!s)return"â€”";try{return new Intl.DateTimeFormat("nl-NL",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(s))}catch{return String(s)}}function l({children:s,tone:t="zinc"}){const d={zinc:"bg-zinc-100 text-zinc-700",emerald:"bg-emerald-50 text-emerald-700",amber:"bg-amber-50 text-amber-700",rose:"bg-rose-50 text-rose-700",indigo:"bg-indigo-50 text-indigo-700",lime:"bg-lime-50 text-lime-800"}[t];return e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${d}`,children:s})}function r({label:s,value:t,sub:d,tone:a="default"}){const o={default:"border-zinc-200 bg-white",good:"border-emerald-200 bg-emerald-50",warn:"border-amber-200 bg-amber-50",bad:"border-rose-200 bg-rose-50",brand:"border-lime-200 bg-lime-50"}[a];return e.jsxs("div",{className:`rounded-2xl border p-5 shadow-sm ${o}`,children:[e.jsx("div",{className:"text-xs font-semibold text-zinc-500",children:s}),e.jsx("div",{className:"mt-1 text-2xl font-semibold tracking-tight",children:t}),d?e.jsx("div",{className:"mt-1 text-xs text-zinc-600",children:d}):null]})}function p({href:s,title:t,subtitle:d}){return e.jsxs("a",{href:s,className:"group flex items-start justify-between gap-3 rounded-xl border border-zinc-200 bg-white p-4 shadow-sm hover:border-zinc-300 hover:bg-zinc-50",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-zinc-900",children:t}),e.jsx("div",{className:"mt-0.5 text-xs text-zinc-600",children:d})]}),e.jsx("div",{className:"shrink-0 text-zinc-400 group-hover:text-zinc-600",children:"->"})]})}function z({kpis:s,urls:t,meta:d,lists:a}){var j,v;const o=s.tasks_overdue>0?"bad":s.tasks_open>0?"warn":"good",h=(a==null?void 0:a.tasks)??[],b=((j=a==null?void 0:a.appointments)==null?void 0:j.items)??[],g=((v=a==null?void 0:a.appointments)==null?void 0:v.by_company)??[];return e.jsxs(e.Fragment,{children:[e.jsx(u,{title:"Dashboard"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Dashboard"}),e.jsxs("div",{className:"mt-1 text-sm text-zinc-600",children:["Overzicht (nieuw) - bijgewerkt: ",e.jsx("span",{className:"font-medium",children:d.generated_at})]})]}),e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.jsx("a",{href:t.dashboard_old,className:"rounded-lg border border-zinc-200 bg-white px-3 py-2 text-sm font-semibold hover:bg-zinc-50",children:"Dashboard (old)"})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(r,{label:"Klanten totaal",value:i(s.companies_total),sub:`Actief: ${i(s.companies_active)}`}),e.jsx(r,{label:"Leads (30 dagen)",value:i(s.leads_last_30)}),e.jsx(r,{label:"Nieuw actief (30 dagen)",value:i(s.active_new_last_30),tone:"good"}),e.jsx(r,{label:"Demo aangevraagd (30 dagen)",value:i(s.demo_requested_last_30),tone:"brand"}),e.jsx(r,{label:"Opzeggingen (30 dagen)",value:i(s.cancelled_last_30),tone:s.cancelled_last_30>0?"warn":"default"}),e.jsx(r,{label:"MRR excl. btw",value:m(s.mrr_excl),sub:`BTW: ${m(s.mrr_btw)} - Incl: ${m(s.mrr_incl)}`,tone:"default"}),e.jsx(r,{label:"Taken open",value:i(s.tasks_open),sub:`Overdue: ${i(s.tasks_overdue)} - Binnen 7 dagen: ${i(s.tasks_due_7)}`,tone:o}),e.jsxs("div",{className:"rounded-2xl border border-zinc-200 bg-gradient-to-br from-indigo-600 to-indigo-700 p-5 text-white shadow-sm",children:[e.jsx("div",{className:"text-xs font-semibold text-white/80",children:"Snelkoppelingen"}),e.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[e.jsx("a",{href:t.customers,className:"rounded-lg bg-white/10 px-3 py-2 text-sm font-semibold hover:bg-white/15",children:"Klanten"}),e.jsx("a",{href:t.tasks,className:"rounded-lg bg-white/10 px-3 py-2 text-sm font-semibold hover:bg-white/15",children:"Taken"}),e.jsx("a",{href:t.reports,className:"rounded-lg bg-white/10 px-3 py-2 text-sm font-semibold hover:bg-white/15",children:"Rapportages"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"rounded-2xl border border-zinc-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Taken"}),e.jsx("div",{className:"mt-1 text-sm text-zinc-600",children:"Open taken en deadlines."})]}),e.jsx("a",{href:t.tasks,className:"inline-flex items-center justify-center rounded-lg bg-zinc-900 px-3 py-2 text-sm font-semibold text-white hover:bg-zinc-800",children:"Naar Taken"})]}),e.jsx("div",{className:"mt-5 overflow-hidden rounded-xl border border-zinc-200",children:h.length===0?e.jsx("div",{className:"p-4 text-sm text-zinc-600",children:"Geen open taken gevonden."}):e.jsx("ul",{className:"divide-y divide-zinc-200",children:h.map(n=>{var f;const c=n.deadline?new Date(n.deadline)<new Date:!1;return e.jsxs("li",{className:"flex items-start justify-between gap-4 p-4 hover:bg-zinc-50",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("div",{className:"truncate text-sm font-semibold text-zinc-900",children:n.titel}),(f=n.project)!=null&&f.naam?e.jsx(l,{tone:"indigo",children:n.project.naam}):null,c?e.jsx(l,{tone:"rose",children:"Overdue"}):null]}),e.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-xs text-zinc-600",children:[e.jsxs("span",{children:["Deadline: ",x(n.deadline)]}),n.prioriteit?e.jsxs("span",{children:["- Prioriteit: ",n.prioriteit]}):null]})]}),e.jsxs("div",{className:"shrink-0 text-xs font-semibold text-zinc-500",children:["#",n.id]})]},n.id)})})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-2xl border border-zinc-200 bg-white p-6 shadow-sm",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Afspraken per klant"}),e.jsx("div",{className:"mt-1 text-sm text-zinc-600",children:"Klanten met komende afspraken (op basis van aantal)."}),e.jsx("div",{className:"mt-4 space-y-2",children:g.length===0?e.jsx("div",{className:"text-sm text-zinc-600",children:"Geen afspraken gevonden."}):g.map(n=>e.jsx("a",{href:n.garage_company.url,className:"block rounded-xl border border-zinc-200 p-3 hover:bg-zinc-50",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"truncate text-sm font-semibold text-zinc-900",children:n.garage_company.bedrijfsnaam}),e.jsxs("div",{className:"mt-1 truncate text-xs text-zinc-600",children:["Volgende: ",n.eerstvolgende.titel," - ",x(n.eerstvolgende.due_at)]})]}),e.jsxs(l,{tone:"zinc",children:[n.aantal,"x"]})]})},n.garage_company.id))})]}),e.jsxs("div",{className:"rounded-2xl border border-zinc-200 bg-white p-6 shadow-sm",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Komende afspraken"}),e.jsx("div",{className:"mt-1 text-sm text-zinc-600",children:"Eerstvolgende afspraken (max. 12)."}),e.jsx("div",{className:"mt-4 overflow-hidden rounded-xl border border-zinc-200",children:b.length===0?e.jsx("div",{className:"p-4 text-sm text-zinc-600",children:"Geen komende afspraken."}):e.jsx("ul",{className:"divide-y divide-zinc-200",children:b.map(n=>{var c;return e.jsx("li",{className:"p-4 hover:bg-zinc-50",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-zinc-900",children:n.titel}),e.jsxs("div",{className:"mt-1 text-xs text-zinc-600",children:[x(n.due_at)," ",(c=n.garage_company)!=null&&c.bedrijfsnaam?e.jsxs(e.Fragment,{children:["-"," ",e.jsx("a",{className:"font-semibold text-zinc-900 hover:underline",href:n.garage_company.url,children:n.garage_company.bedrijfsnaam})]}):null]})]}),e.jsxs("div",{className:"shrink-0 text-xs font-semibold text-zinc-500",children:["#",n.id]})]})},n.id)})})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"rounded-2xl border border-zinc-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Wat is nieuw?"}),e.jsx("div",{className:"mt-1 text-sm text-zinc-600",children:"Dit dashboard is de eerste pagina die we naar React migreren. De rest blijft voorlopig Livewire (old)."})]}),e.jsx(l,{tone:"emerald",children:"React"})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[e.jsx(p,{href:t.customers,title:"Klanten beheren",subtitle:"Zoeken, modules en contactpersonen"}),e.jsx(p,{href:t.tasks,title:"Taken",subtitle:"Board, comments, mentions en bijlagen"})]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"rounded-2xl border border-zinc-200 bg-white p-6 shadow-sm",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Status"}),e.jsxs("div",{className:"mt-3 space-y-2 text-sm text-zinc-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Dashboard"}),e.jsx(l,{tone:"emerald",children:"nieuw"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Dashboard (old)"}),e.jsx(l,{tone:"zinc",children:"livewire"})]}),e.jsx("div",{className:"pt-2 text-xs text-zinc-500",children:"Volgende stap: Klanten en Rapportages moderniseren met dezelfde aanpak."})]})]})})]})]})]})}export{z as default};
